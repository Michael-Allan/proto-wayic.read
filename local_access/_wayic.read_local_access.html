<!DOCTYPE html>
<html>
    <head>
        <meta charset='UTF-8'/>
        <title>Web access to the local wayscript</title>
        </head>
    <body>
        <h1>Web access to the local wayscript</h1>
        <!-- <<< deindent -->

<section>
    <ol>
        <li>Copy this file to the base directory of your waycast</li>
        <li>Load it into your browser, and from there:</li>
        <li>Follow this link: <a href='visionary/way.xht'>visionary/way.xht</a></li>
        </ol>
    <!--- - - - -
    - another method is to load a sequence of two bookmarks:
        * file:/PATH/TO/WAYCAST/
        * javascript:(function(){location='visionary/way.xht'})();
        - - - - -->
    </section>
<section>
    <h2>Supported browsers</h2>
    <p>
        Firefox.
        See the list of <a href='http://reluk.ca/project/wayic/read/README.html#client_support'>
        browsers tested</a>, and see below.
        </p>
    </section>
<section>
    <h2>Why this is needed</h2>
    <p>
        When a wayscript document is loaded [into the client] on a ‘file’ scheme URL,
        wayic.read has a limited ability to resolve external waylinks (marked ‘⋯?⋯’ when resolution fails),
        to trace the way across multiple files, or generally to read other way files.
        <!--- - - - -
        - unlikely to be a problem for a *remote* waylink
            - once that kind of targeting is allowed
                - viz. a full URI with a proper web scheme, such as 'http'
            - such a target would be served with a response header of 'Access-Control-Allow-Origin: *'
                - that then being the standard for waycast service
                ( cf. http://reluk.ca/project/wayic/lex/#web_serving
            - but ofc that won't help for the *local* waylinks that remain
                ( typically the majority, I imagine
            - - - - -->
        It’s possible to work around this limitation (depending on the browser)
        with the help of this support file.
        </p>
    <p>
        It won’t work on Chrome, however.  Chrome (59) rejects all local read requests,
        logging the reason in the console as “Cross origin requests are only supported
        for protocol schemes: http, data, chrome, chrome-extension, https.”
        Firefox (52) is more lenient.  It at least forwards the in-branch requests,
        viz. where “the parent directory of the originating file is an ancestor directory
        of the target file.”<a style='padding-right:0.4em'
          href='https://developer.mozilla.org/en-US/docs/Same-origin_policy_for_file%3a_URIs'> *</a>
        </p>
    </section>

        <!-- >>> reindent -->
        </body>
    </html>
